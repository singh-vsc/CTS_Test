{% with model.categories|first as firstitem %}{% if firstitem.parentCategoryId %}{% for link in navigation.tree %}{% if link.originalId ==  firstitem.parentCategoryId%}{{firstitem.content.name}}|{{ link.name }}{% else %}{% for sublink in link.items %}{% if sublink.originalId ==  firstitem.parentCategoryId%}{{firstitem.content.name}}|{{sublink.name }}{% with sublink.parentId|replace("cat^^") as parentIdStr %}{% for linkParent in navigation.tree %}{% if linkParent.originalId ==  parentIdStr %}|{{ linkParent.name }}{% endif %}{% endfor %}{% endwith %}{% else %}{% for subsublink in sublink.items %}{% if subsublink.originalId ==  firstitem.parentCategoryId %}{{firstitem.content.name}}|{{ subsublink.name }}{% with subsublink.parentId|replace("cat^^") as parentIdStr %}{% for linkParent in navigation.tree %}{% if linkParent.originalId ==  parentIdStr %}|{{ linkParent.name }}{% with linkParent.parentId|replace("cat^^") as linkParentIdStr %}{% for sublinkParent in linkParent.items %}{% if sublinkParent.originalId ==  linkParentIdStr %}|{{ sublinkParent.name }}{% endif %}{% endfor %}{% endwith %}{% else %}{% for sublinkParent in linkParent.items %}{% if sublinkParent.originalId ==  parentIdStr %}|{{ sublinkParent.name }}{% with sublinkParent.parentId|replace("cat^^") as lastLinkParentIdStr %}{% for lastLinkParent in navigation.tree %}{% if lastLinkParent.originalId ==  lastLinkParentIdStr %}|{{ lastLinkParent.name }}{% endif %}{% endfor %}{% endwith %}{% endif %}{% endfor %}{% endif %}{% endfor %}{% endwith %}{% endif %}{% endfor %}{% endif %}{% endfor %}{% endif %}{% endfor %}{% else %}{{firstitem.content.name}}{% endif %}{% endwith %}